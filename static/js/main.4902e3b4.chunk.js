(this["webpackJsonpmy-expenses"]=this["webpackJsonpmy-expenses"]||[]).push([[0],{111:function(e,t,n){},115:function(e,t){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(1),o=n.n(c),i=n(86),s=n.n(i),r=(n(111),n(56)),u=n(57),j=n(2),l=n(5),b=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,187))})),d=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,190))})),O=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,189))})),f=function(){var e=!!localStorage.getItem("user");return Object(l.jsx)(c.Suspense,{fallback:Object(l.jsx)("h2",{children:"I am loading..."}),children:Object(l.jsx)(u.a,{children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/login",element:Object(l.jsx)(b,{})}),Object(l.jsx)(j.a,{exact:!0,path:"/signup",element:Object(l.jsx)(d,{})}),Object(l.jsx)(j.a,{exact:!0,path:"/home",element:Object(l.jsx)(O,{})}),Object(l.jsx)(j.a,{exact:!0,path:"/",element:e?Object(l.jsx)(O,{}):Object(l.jsx)(b,{})})]})})})};var h=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(r.b,{children:Object(l.jsx)(f,{})})})},g={cognito:{REGION:"us-east-1",USER_POOL_ID:"us-east-1_Jl1sWCadX",APP_CLIENT_ID:"58c1iigsodjljnqiii4q02heqm",IDENTITY_POOL_ID:"us-east-1:6ad9a45d-5246-4916-835c-cf57e23cf047"},apiGateway:{REGION:"us-east-1",URL:"https://bbfe5nfs5c.execute-api.us-east-1.amazonaws.com/dev"}},p=(n(166),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,188)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))});a.a.configure({Auth:{region:g.cognito.REGION,userPoolId:g.cognito.USER_POOL_ID,identityPoolId:g.cognito.IDENTITY_POOL_ID,userPoolWebClientId:g.cognito.APP_CLIENT_ID},API:{endpoints:[{name:"api-expense",endpoint:g.apiGateway.URL,region:g.apiGateway.REGION}]}}),s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),p()},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(44),c=n(95),o=n(22),i=n(1),s=n(177),r=function(){return s.a.get("api-expense","/expense-api","").then((function(e){return e})).catch((function(e){return console.error("Error al cargar lista gastos",e),[]})).then((function(e){return{total:e.reduce((function(e,t){return e+Number(t.cantidad)}),0),gastos:e,fecha:(new Date).getTime()}}))},u=n(5),j=[{gastos:[],fecha:(new Date).getTime(),total:0,isLoading:!1},function(){}],l=Object(i.createContext)(j);t.b=function(e){var t=e.children,n=Object(i.useState)(j[0]),b=Object(o.a)(n,2),d=b[0],O=b[1];Object(i.useEffect)((function(){O(d,{isLoading:!1}),r().then((function(e){var t=e.gastos,n=e.fecha,a=e.total;return O({gastos:t,fecha:n,total:a,isLoading:!1})}))}),[]);return Object(u.jsx)(l.Provider,{value:[d,function(e){(function(e){return s.a.post("api-expense","/expense-api",{body:e}).then((function(e){return e})).catch((function(e){throw console.error("error al guardar nuevo gasto",e),e}))})(e).then((function(e){var t=[e].concat(Object(c.a)(d.gastos)),n=d.total+Number(e.cantidad||0);O(Object(a.a)(Object(a.a)({},d),{},{gastos:t,total:n}))}))}],children:t})}}},[[167,1,2]]]);
//# sourceMappingURL=main.4902e3b4.chunk.js.map