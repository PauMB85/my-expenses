(this["webpackJsonpmy-expenses"]=this["webpackJsonpmy-expenses"]||[]).push([[0],{104:function(e,t,n){},108:function(e,t){},159:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a=n(11),c=n(6),s=n.n(c),i=n(79),r=n.n(i),o=(n(104),n(18)),d=n(88),j=n(17),u=n(175),l=function(){return u.a.get("api-expense","/expense-api","").then((function(e){return e})).catch((function(e){return console.error("Error al cargar lista gastos",e),[]})).then((function(e){return{total:e.reduce((function(e,t){return e+Number(t.cantidad)}),0),gastos:e,fecha:(new Date).getTime()}}))},b=n(1),x=[{gastos:[],fecha:(new Date).getTime(),total:0,isLoading:!1},function(){}],h=Object(c.createContext)(x),f=function(e){var t=e.children,n=Object(c.useState)(x[0]),a=Object(j.a)(n,2),s=a[0],i=a[1];Object(c.useEffect)((function(){i(s,{isLoading:!1}),l().then((function(e){var t=e.gastos,n=e.fecha,a=e.total;return i({gastos:t,fecha:n,total:a,isLoading:!1})}))}),[]);return Object(b.jsx)(h.Provider,{value:[s,function(e){(function(e){return u.a.post("api-expense","/expense-api",{body:e}).then((function(e){return e})).catch((function(e){throw console.error("error al guardar nuevo gasto",e),e}))})(e).then((function(e){var t=[e].concat(Object(d.a)(s.gastos)),n=s.total+Number(e.cantidad||0);i(Object(o.a)(Object(o.a)({},s),{},{gastos:t,total:n}))}))}],children:t})},p=(n(159),function(e){var t=new Date(e),n={month:"long",year:"numeric"};return t.toLocaleDateString("es-ES",n),t.toLocaleDateString("es-ES",n)}),O=function(e){var t=e.fecha,n=e.total;return Object(b.jsxs)("div",{className:"Header",children:[Object(b.jsxs)("div",{className:"header__titulo",children:["Gastos de ",p(t)," "]}),Object(b.jsxs)("div",{className:"header__gasto",children:["total: ",n," \u20ac"]})]})},v=function(){var e=Object(c.useContext)(h),t=Object(j.a)(e,1)[0],n=t.fecha,a=t.total;return Object(b.jsx)(O,{fecha:n,total:a})},g=n(34),m=n.n(g),N=(n(162),function(e){var t=e.expenses;return Object(b.jsxs)("div",{className:"list-expanse",children:[Object(b.jsxs)("div",{className:"list-expanse__header",children:[Object(b.jsx)("div",{children:"Gasto"}),Object(b.jsx)("div",{children:"Cantidad"}),Object(b.jsx)("div",{children:"Fecha"}),Object(b.jsx)("div",{children:"Persona"}),Object(b.jsx)("div",{children:"Nota"})]}),t&&t.map((function(e,t){return Object(b.jsxs)("div",{className:"list-expanse__boddy",children:[Object(b.jsx)("div",{children:e.gasto}),Object(b.jsx)("div",{children:e.cantidad}),Object(b.jsx)("div",{children:e.fecha}),Object(b.jsx)("div",{children:e.persona}),Object(b.jsx)("div",{children:e.nota})]},t)}))]})});N.prototype={expenses:m.a.array};var y=n(38),w=function(){var e=new Date;return"".concat(e.getDay()<10?0:"").concat(e.getDay(),"/").concat(e.getMonth()<10?0:"").concat(e.getMonth()+1,"/").concat(e.getFullYear())},_=(n(163),function(e){var t=e.expense,n=e.addNewExpense,a=Object(c.useState)(t),s=Object(j.a)(a,2),i=s[0],r=s[1],d=function(e){var t=e.target,n=t.name,a=t.value;r(Object(o.a)(Object(o.a)({},i),{},Object(y.a)({},n,a)))};return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Object(o.a)(Object(o.a)({},i),{},{fecha:w()})),r(t)},className:"form-expenses",children:[Object(b.jsxs)("div",{className:"form-expenses__input",children:[Object(b.jsx)("label",{htmlFor:"cantidad",children:"Cantidad: "}),Object(b.jsx)("input",{type:"number",name:"cantidad",id:"cantidad",onChange:d,value:i.cantidad})]}),Object(b.jsxs)("div",{className:"form-expenses__input",children:[Object(b.jsx)("label",{htmlFor:"gasto",children:"Gasto: "}),Object(b.jsx)("input",{type:"text",name:"gasto",id:"gasto",onChange:d,value:i.gasto})]}),Object(b.jsx)("div",{className:"form-expenses__submit",children:Object(b.jsx)("button",{children:"Nuevo gasto"})})]})});_.prototype={expense:m.a.object,addNewExpense:m.a.func},_.defaultProps={expense:{cantidad:"",gasto:""}};var C=function(){var e=Object(c.useContext)(h),t=Object(j.a)(e,2),n=t[0].gastos,a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(_,{addNewExpense:function(e){a(e)}}),Object(b.jsx)(N,{expenses:n})]})};var D=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(f,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(C,{})]})})},E={apiGateway:{REGION:"us-east-1",URL:"https://bbfe5nfs5c.execute-api.us-east-1.amazonaws.com/dev"}},L=(n(164),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))});a.a.configure({API:{endpoints:[{name:"api-expense",endpoint:E.apiGateway.URL,region:E.apiGateway.REGION}]}}),r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),L()}},[[165,1,2]]]);
//# sourceMappingURL=main.4f3f7d97.chunk.js.map